<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>WC - Reviews</title>
  <style>
    body {
      font-family: Roboto, Arial, sans-serif;
      background: #f5f5f5;
      margin: 0;
      padding: 20px;
    }
    .container {
      max-width: 600px;
      margin: auto;
      background: white;
      padding: 20px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      border-radius: 8px;
    }
    .place-header {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .place-header img {
      width: 40px;
      height: 40px;
    }
    .place-name {
      font-size: 24px;
      font-weight: bold;
    }
    .stars {
      color: #fbbc04;
      font-size: 20px;
    }
    .review {
      margin-top: 20px;
      border-bottom: 1px solid #ddd;
      padding-bottom: 15px;
    }
    .author {
      font-weight: bold;
      margin-bottom: 5px;
    }
    .text {
      font-size: 16px;
    }
    form {
      margin-top: 30px;
    }
    textarea {
      width: 100%;
      padding: 10px;
      font-size: 14px;
      resize: vertical;
    }
    button {
      margin-top: 10px;
      padding: 10px 20px;
      background: #34a853;
      color: white;
      border: none;
      cursor: pointer;
      border-radius: 4px;
    }
    button:hover {
      background: #2c8a3e;
    }
  </style>
</head>
<body>

  <h1>Reviews for WC ðŸš½</h1>

  <form id="reviewForm">
    <textarea id="reviewText" placeholder="Write your review..." required></textarea>
    <br>
    <button type="submit">Submit Review</button>
  </form>

  <div id="reviewsContainer">Loading reviews...</div>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.24.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.24.0/firebase-database-compat.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyBdE_hnc1wr1Wsr4AVY8JA1QJMfubhxbF8",
      authDomain: "wc-review.firebaseapp.com",
      databaseURL: "https://wc-review-default-rtdb.europe-west1.firebasedatabase.app",
      projectId: "wc-review",
      storageBucket: "wc-review.firebasestorage.app",
      messagingSenderId: "591044471319",
      appId: "1:591044471319:web:1902d24b8a74c792ff0a52",
      measurementId: "G-GW44M1FRZS"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // Submit Review
    document.getElementById("reviewForm").addEventListener("submit", function (e) {
      e.preventDefault();
      const text = document.getElementById("reviewText").value.trim();
      if (text) {
        db.ref("reviews").push({ text });
        document.getElementById("reviewText").value = "";
      }
    });

    // Load Reviews
    const reviewsContainer = document.getElementById("reviewsContainer");
    db.ref("reviews").on("value", function(snapshot) {
      reviewsContainer.innerHTML = "";
      snapshot.forEach(child => {
        const div = document.createElement("div");
        div.className = "review";
        div.innerHTML = `<div class="author"></div><div class="text">"${child.val().text}"</div>`;
        reviewsContainer.prepend(div);
      });
    });
  </script>
</body>
</html>